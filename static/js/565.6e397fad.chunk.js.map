{"version":3,"file":"static/js/565.6e397fad.chunk.js","mappings":"sMAsDA,UAjDe,WACb,IAAAA,GAA0BC,EAAAA,EAAAA,UAAS,IAAGC,GAAAC,EAAAA,EAAAA,GAAAH,EAAA,GAA/BI,EAAKF,EAAA,GAAEG,EAAQH,EAAA,GACtBI,GAAwBL,EAAAA,EAAAA,UAAS,IAAGM,GAAAJ,EAAAA,EAAAA,GAAAG,EAAA,GAA7BE,EAAID,EAAA,GAAEE,EAAOF,EAAA,GACdG,GAAWC,EAAAA,EAAAA,MAEjBC,GAAwCC,EAAAA,EAAAA,MAAiBC,GAAAX,EAAAA,EAAAA,GAAAS,EAAA,GAAlDG,EAAYD,EAAA,GAAEE,EAAeF,EAAA,GAM9BG,EAAQF,EAAaG,IAAI,SAU/B,OARAC,EAAAA,EAAAA,YAAU,WACJF,IACFG,EAAAA,EAAAA,IAAiBH,GAAOI,MAAK,SAAAC,GAAe,IAAZC,EAAID,EAAJC,KAC9Bd,EAAQc,EAAKC,QACf,GAEJ,GAAG,CAACP,KAGFQ,EAAAA,EAAAA,MAAA,OAAAC,SAAA,EACEC,EAAAA,EAAAA,KAAA,MAAAD,SAAI,mBACJD,EAAAA,EAAAA,MAAA,QAAMG,SAlBY,SAAAC,GACpBA,EAAEC,iBACFd,EAAgBZ,EAAQ,CAAEa,MAAOb,GAAU,CAAC,EAC9C,EAekCsB,SAAA,EAC5BC,EAAAA,EAAAA,KAAA,SACEI,SAAU,SAAAF,GAAC,OAAIxB,EAASwB,EAAEG,OAAO5B,MAAM,EACvCA,MAAOA,EACP6B,KAAK,OACLC,KAAK,WACLC,YAAY,gBAEdR,EAAAA,EAAAA,KAAA,UAAAD,SAAQ,eAEVC,EAAAA,EAAAA,KAAA,UACAA,EAAAA,EAAAA,KAAA,MAAAD,SACGlB,GACCA,EAAK4B,KAAI,SAAAC,GAAE,OACTV,EAAAA,EAAAA,KAAA,MAAAD,UACEC,EAAAA,EAAAA,KAACW,EAAAA,GAAI,CAACC,MAAO,CAAEC,KAAM9B,GAAY+B,GAAE,WAAAC,OAAaL,EAAGM,IAAKjB,SACrDW,EAAGO,kBAFCP,EAAGM,GAIP,QAKjB,C,+LClDME,EAAM,mCACZC,EAAAA,EAAAA,SAAAA,QAAyB,+BAElB,IAAM1B,EAAgB,eAAAE,GAAAyB,EAAAA,EAAAA,GAAAC,IAAAA,MAAG,SAAAC,EAAMhC,GAAK,OAAA+B,IAAAA,MAAA,SAAAE,GAAA,cAAAA,EAAAC,KAAAD,EAAAE,MAAA,cAAAF,EAAAE,KAAA,EAC5BN,EAAAA,EAAAA,IAAU,gBAAiB,CACtCO,OAAQ,CACNpC,MAAAA,EACAqC,QAAST,KAEV,KAAD,SAAAK,EAAAK,OAAA,SAAAL,EAAAM,MAAA,wBAAAN,EAAAO,OAAA,GAAAR,EAAA,KACH,gBAP4BS,GAAA,OAAApC,EAAAqC,MAAA,KAAAC,UAAA,KAShBC,EAAY,eAAAC,GAAAf,EAAAA,EAAAA,GAAAC,IAAAA,MAAG,SAAAe,EAAMpB,GAAE,OAAAK,IAAAA,MAAA,SAAAgB,GAAA,cAAAA,EAAAb,KAAAa,EAAAZ,MAAA,cAAAY,EAAAZ,KAAA,EACrBN,EAAAA,EAAAA,IAAU,UAADJ,OAAWC,EAAE,qBAAAD,OAAoBG,IAAO,KAAD,SAAAmB,EAAAT,OAAA,SAAAS,EAAAR,MAAA,wBAAAQ,EAAAP,OAAA,GAAAM,EAAA,KAC9D,gBAFwBE,GAAA,OAAAH,EAAAH,MAAA,KAAAC,UAAA,KAIZM,EAAkB,eAAAC,GAAApB,EAAAA,EAAAA,GAAAC,IAAAA,MAAG,SAAAoB,IAAA,OAAApB,IAAAA,MAAA,SAAAqB,GAAA,cAAAA,EAAAlB,KAAAkB,EAAAjB,MAAA,cAAAiB,EAAAjB,KAAA,EACnBN,EAAAA,EAAAA,IAAU,+BAADJ,OAAgCG,IAAO,KAAD,SAAAwB,EAAAd,OAAA,SAAAc,EAAAb,MAAA,wBAAAa,EAAAZ,OAAA,GAAAW,EAAA,KAC7D,kBAF8B,OAAAD,EAAAR,MAAA,KAAAC,UAAA,KAIlBU,EAAc,eAAAC,GAAAxB,EAAAA,EAAAA,GAAAC,IAAAA,MAAG,SAAAwB,EAAM7B,GAAE,OAAAK,IAAAA,MAAA,SAAAyB,GAAA,cAAAA,EAAAtB,KAAAsB,EAAArB,MAAA,cAAAqB,EAAArB,KAAA,EACvBN,EAAAA,EAAAA,IAAU,UAADJ,OAAWC,EAAE,aAAAD,OAAYG,IAAO,KAAD,SAAA4B,EAAAlB,OAAA,SAAAkB,EAAAjB,MAAA,wBAAAiB,EAAAhB,OAAA,GAAAe,EAAA,KACtD,gBAF0BE,GAAA,OAAAH,EAAAZ,MAAA,KAAAC,UAAA,KAIde,EAAgB,eAAAC,GAAA7B,EAAAA,EAAAA,GAAAC,IAAAA,MAAG,SAAA6B,EAAMlC,GAAE,OAAAK,IAAAA,MAAA,SAAA8B,GAAA,cAAAA,EAAA3B,KAAA2B,EAAA1B,MAAA,cAAA0B,EAAA1B,KAAA,EACzBN,EAAAA,EAAAA,IAAU,UAADJ,OAAWC,EAAE,qBAAAD,OAAoBG,IAAO,KAAD,SAAAiC,EAAAvB,OAAA,SAAAuB,EAAAtB,MAAA,wBAAAsB,EAAArB,OAAA,GAAAoB,EAAA,KAC9D,gBAF4BE,GAAA,OAAAH,EAAAjB,MAAA,KAAAC,UAAA,I","sources":["pages/Search.jsx","services/api.jsx"],"sourcesContent":["import React, { useEffect, useState } from 'react';\nimport { useSearchParams } from 'react-router-dom';\nimport { Link } from 'react-router-dom';\nimport { fetchSearchMovie } from '../services/api';\nimport { useLocation } from 'react-router-dom';\nconst Search = () => {\n  const [value, setValue] = useState('');\n  const [list, setList] = useState('');\n  const location = useLocation();\n\n  const [searchParams, setSearchParams] = useSearchParams();\n  const onSubmitSeart = e => {\n    e.preventDefault();\n    setSearchParams(value ? { query: value } : {});\n  };\n\n  const query = searchParams.get('query');\n\n  useEffect(() => {\n    if (query) {\n      fetchSearchMovie(query).then(({ data }) => {\n        setList(data.results);\n      });\n    }\n  }, [query]);\n\n  return (\n    <div>\n      <h1>Search movies</h1>\n      <form onSubmit={onSubmitSeart}>\n        <input\n          onChange={e => setValue(e.target.value)}\n          value={value}\n          type=\"text\"\n          name=\"lastName\"\n          placeholder=\"Enter film\"\n        />\n        <button>Search</button>\n      </form>\n      <hr />\n      <ul>\n        {list &&\n          list.map(el => (\n            <li key={el.id}>\n              <Link state={{ from: location }} to={`/movies/${el.id}`}>\n                {el.original_title}\n              </Link>\n            </li>\n          ))}\n      </ul>\n    </div>\n  );\n};\n\nexport default Search;\n","import axios from 'axios';\n\nconst key = 'caae91fa03dadd61d2d243ec0631262a';\naxios.defaults.baseURL = 'https://api.themoviedb.org/3';\n\nexport const fetchSearchMovie = async query => {\n  return await axios.get(`/search/movie`, {\n    params: {\n      query,\n      api_key: key,\n    },\n  });\n};\n\nexport const fetchCredits = async id => {\n  return await axios.get(`/movie/${id}/credits?api_key=${key}`);\n};\n\nexport const fetchTrendingMovie = async () => {\n  return await axios.get(`/trending/movie/day?api_key=${key}`);\n};\n\nexport const fetchMovieById = async id => {\n  return await axios.get(`/movie/${id}?api_key=${key}`);\n};\n\nexport const fetchMovieReview = async id => {\n  return await axios.get(`/movie/${id}/reviews?api_key=${key}`);\n};\n"],"names":["_useState","useState","_useState2","_slicedToArray","value","setValue","_useState3","_useState4","list","setList","location","useLocation","_useSearchParams","useSearchParams","_useSearchParams2","searchParams","setSearchParams","query","get","useEffect","fetchSearchMovie","then","_ref","data","results","_jsxs","children","_jsx","onSubmit","e","preventDefault","onChange","target","type","name","placeholder","map","el","Link","state","from","to","concat","id","original_title","key","axios","_asyncToGenerator","_regeneratorRuntime","_callee","_context","prev","next","params","api_key","abrupt","sent","stop","_x","apply","arguments","fetchCredits","_ref2","_callee2","_context2","_x2","fetchTrendingMovie","_ref3","_callee3","_context3","fetchMovieById","_ref4","_callee4","_context4","_x3","fetchMovieReview","_ref5","_callee5","_context5","_x4"],"sourceRoot":""}